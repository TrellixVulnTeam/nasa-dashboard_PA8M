{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from './store'; // Component Imports\n\nimport User from './components/user/User.vue';\nimport Home from './components/Home.vue';\nimport Login from './components/user/Login.vue';\nimport Register from './components/user/Register.vue';\nimport SwaggerUi from './components/SwaggerUi.vue';\nimport ArtworkDetail from './components/ArtworkDetail.vue';\nimport People from './components/People.vue';\nimport Person from './components/Person.vue';\nimport Species from './components/Species.vue'; // import more COMPONENTS here\n\nVue.use(VueRouter);\nexport const routes = [{\n  name: 'home',\n  path: '',\n  component: Home,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  name: 'swagger',\n  path: '/docs',\n  component: SwaggerUi\n}, {\n  path: '/login',\n  component: Login,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/register',\n  component: Register,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/user',\n  component: User,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/film/:id',\n  component: ArtworkDetail\n}, {\n  path: '/people',\n  component: People\n}, {\n  path: '/person/:id',\n  component: Person\n}, {\n  path: '/species/:id',\n  component: Species\n}, {\n  path: '/vehicle/:id',\n  component: Species\n} // more ROUTES here\n];\nconst router = new VueRouter({\n  routes,\n  mode: 'history'\n}); // Handling routes with Authentification Required\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.getters.isAuthenticated) {\n      next();\n      return;\n    }\n\n    next('/login');\n  } else {\n    next();\n  }\n}); // Handling routes with Guest permitted\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.guest)) {\n    if (store.getters.isAuthenticated) {\n      next('/projects');\n      return;\n    }\n\n    next();\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","User","Home","Login","Register","SwaggerUi","ArtworkDetail","People","Person","Species","use","routes","name","path","component","meta","requiresAuth","guest","router","mode","beforeEach","to","from","next","matched","some","record","getters","isAuthenticated"],"sources":["/Users/leonardoschuster/Documents/workspace/ghibli-flix/src/router.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from './store'\n\n// Component Imports\nimport User from './components/user/User.vue'\nimport Home from './components/Home.vue'\nimport Login from './components/user/Login.vue'\nimport Register from './components/user/Register.vue'\nimport SwaggerUi from './components/SwaggerUi.vue'\nimport ArtworkDetail from './components/ArtworkDetail.vue'\nimport People from './components/People.vue'\nimport Person from './components/Person.vue'\nimport Species from './components/Species.vue'\n// import more COMPONENTS here\n\nVue.use(VueRouter);\n\nexport const routes = [\n  {\n    name: 'home',\n    path: '',\n    component: Home,\n    meta: { requiresAuth: true },\n  },\n  {\n    name: 'swagger',\n    path: '/docs',\n    component: SwaggerUi,\n  },\n  {\n    path: '/login',\n    component: Login,\n    meta: { guest: true },\n  },\n  {\n    path: '/register',\n    component: Register,\n    meta: { guest: true },\n  },\n  {\n    path: '/user',\n    component: User,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: '/film/:id',\n    component: ArtworkDetail,\n  },\n  {\n    path: '/people',\n    component: People,\n  },\n  {\n    path: '/person/:id',\n    component: Person,\n  },\n  {\n    path: '/species/:id',\n    component: Species,\n  },\n  {\n    path: '/vehicle/:id',\n    component: Species,\n  },\n  // more ROUTES here\n  \n];\n\nconst router = new VueRouter({\n  routes,\n  mode: 'history'\n});\n\n// Handling routes with Authentification Required\nrouter.beforeEach((to, from, next) => {\n  if(to.matched.some(record => record.meta.requiresAuth)) {\n    if(store.getters.isAuthenticated) {\n      next()\n      return\n    }\n    next('/login')\n  } else {\n    next ()\n  }\n});\n\n// Handling routes with Guest permitted\nrouter.beforeEach((to, from, next) => {\n  if(to.matched.some(record => record.meta.guest)) {\n    if(store.getters.isAuthenticated) {\n      next('/projects')\n      return;\n    }\n    next()\n  } else {\n    next()\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB,C,CACA;;AAEAX,GAAG,CAACY,GAAJ,CAAQX,SAAR;AAEA,OAAO,MAAMY,MAAM,GAAG,CACpB;EACEC,IAAI,EAAE,MADR;EAEEC,IAAI,EAAE,EAFR;EAGEC,SAAS,EAAEZ,IAHb;EAIEa,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAhB;AAJR,CADoB,EAOpB;EACEJ,IAAI,EAAE,SADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAET;AAHb,CAPoB,EAYpB;EACEQ,IAAI,EAAE,QADR;EAEEC,SAAS,EAAEX,KAFb;EAGEY,IAAI,EAAE;IAAEE,KAAK,EAAE;EAAT;AAHR,CAZoB,EAiBpB;EACEJ,IAAI,EAAE,WADR;EAEEC,SAAS,EAAEV,QAFb;EAGEW,IAAI,EAAE;IAAEE,KAAK,EAAE;EAAT;AAHR,CAjBoB,EAsBpB;EACEJ,IAAI,EAAE,OADR;EAEEC,SAAS,EAAEb,IAFb;EAGEc,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAhB;AAHR,CAtBoB,EA2BpB;EACEH,IAAI,EAAE,WADR;EAEEC,SAAS,EAAER;AAFb,CA3BoB,EA+BpB;EACEO,IAAI,EAAE,SADR;EAEEC,SAAS,EAAEP;AAFb,CA/BoB,EAmCpB;EACEM,IAAI,EAAE,aADR;EAEEC,SAAS,EAAEN;AAFb,CAnCoB,EAuCpB;EACEK,IAAI,EAAE,cADR;EAEEC,SAAS,EAAEL;AAFb,CAvCoB,EA2CpB;EACEI,IAAI,EAAE,cADR;EAEEC,SAAS,EAAEL;AAFb,CA3CoB,CA+CpB;AA/CoB,CAAf;AAmDP,MAAMS,MAAM,GAAG,IAAInB,SAAJ,CAAc;EAC3BY,MAD2B;EAE3BQ,IAAI,EAAE;AAFqB,CAAd,CAAf,C,CAKA;;AACAD,MAAM,CAACE,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,IAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgBC,MAAM,IAAIA,MAAM,CAACX,IAAP,CAAYC,YAAtC,CAAH,EAAwD;IACtD,IAAGhB,KAAK,CAAC2B,OAAN,CAAcC,eAAjB,EAAkC;MAChCL,IAAI;MACJ;IACD;;IACDA,IAAI,CAAC,QAAD,CAAJ;EACD,CAND,MAMO;IACLA,IAAI;EACL;AACF,CAVD,E,CAYA;;AACAL,MAAM,CAACE,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,IAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgBC,MAAM,IAAIA,MAAM,CAACX,IAAP,CAAYE,KAAtC,CAAH,EAAiD;IAC/C,IAAGjB,KAAK,CAAC2B,OAAN,CAAcC,eAAjB,EAAkC;MAChCL,IAAI,CAAC,WAAD,CAAJ;MACA;IACD;;IACDA,IAAI;EACL,CAND,MAMO;IACLA,IAAI;EACL;AACF,CAVD;AAYA,eAAeL,MAAf"},"metadata":{},"sourceType":"module"}